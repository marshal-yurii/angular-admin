<div class="users-table-container mat-elevation-z8">
  <h1>USERS</h1>

  <table mat-table [dataSource]="dataSource">

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Name </th>
      <td mat-cell *matCellDef="let user"> {{user.name}} </td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef> Email </th>
      <td mat-cell *matCellDef="let user"> {{user.email}} </td>
    </ng-container>

    <ng-container matColumnDef="updatedAt">
      <th mat-header-cell *matHeaderCellDef> Last update </th>
      <td mat-cell *matCellDef="let user"> {{user.updatedAt | date: 'MM/dd/yyyy'}} </td>
    </ng-container>

    <ng-container matColumnDef="active">
      <th mat-header-cell *matHeaderCellDef> Status </th>
      <td mat-cell *matCellDef="let user"> {{user.active ? 'Active' : 'Inactive'}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 20]"
                 showFirstLastButtons
                 aria-label="Select page of users">
  </mat-paginator>
</div>

<button class="back-btn" mat-button mat-raised-button color="primary" routerLink="">
  Back to Dashboard
</button>

<br>
<h1>ViewChild</h1>
<br>

<div (submit)="submitForm()" class="add-user-form">
  <input #nameInput [(ngModel)]="userName" [disabled]="true" type="text" (keydown.enter)="focusInput()" />
  <input [ngModelOptions]="{standalone: true}" #emailInput id="emailInput" [(ngModel)]="userEmail" type="text" (keydown.enter)="focusButton()" />

  <button (click)="addUser()" type="button" #createUserButton class="create-user-btn" mat-button mat-raised-button color="primary">
    Create user
  </button>
</div>

<form [formGroup]="userFormGroup" (ngSubmit)="addUser()" class="add-user-form">
  <input formControlName="userName" type="text" (keydown.enter)="focusInput()" />
  <input formControlName="email"
         [ngClass]="{error: userFormGroup.get('email')?.invalid && userFormGroup.get('email')?.touched}"
         type="text" (keydown.enter)="focusButton()"
  />

  <button [disabled]="userFormGroup.invalid"
          (click)="addUser()"
          type="button"
          #createUserButton
          class="create-user-btn"
          mat-button mat-raised-button
          color="primary"
  >
    Create user
  </button>
</form>

<app-toggler [(ngModel)]="toggleValue">
  External Context
</app-toggler>

<br>
<h1>ViewChildren</h1>
<br>

<div class="inputs-wrapper">
  <div @fadeInOut *ngIf="toggleValue; else activeTmpl">
    <input *ngFor="let input of inputs; let i = index"
           maxlength="1"
           (keyup)="setValue($event, i)"
           #codeInputs
    />
  </div>
  <ng-template #activeTmpl>IS ACTIVE!</ng-template>
</div>

<button mat-button mat-raised-button class="verify-button" #verifyButton>
  Verify & Continue
</button>
